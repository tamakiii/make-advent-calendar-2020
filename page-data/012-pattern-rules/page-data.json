{"componentChunkName":"component---src-templates-markdown-js","path":"/012-pattern-rules","result":{"data":{"markdownRemark":{"html":"<h1>パターンルール</h1>\n<p>ルールの target と prerequisites には <code class=\"language-text\">%</code> を含むパターンが書けます。</p>\n<div class=\"gatsby-highlight\" data-language=\"makefile\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-makefile line-numbers\"><code class=\"language-makefile\"><span class=\"token symbol\">%.o </span><span class=\"token punctuation\">:</span> %.c <span class=\"token punctuation\">;</span> recipe...</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>target の <code class=\"language-text\">%</code> と prerequisites の <code class=\"language-text\">%</code> は一致していなければならず、この例では <code class=\"language-text\">main.c</code> が存在しないので <code class=\"language-text\">main.o</code> は作れません。\n<code class=\"language-text\">hoge.c</code> が存在するため <code class=\"language-text\">hoge.o</code> は作れます。</p>\n<div class=\"gatsby-highlight\" data-language=\"makefile\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-makefile line-numbers\"><code class=\"language-makefile\"><span class=\"token symbol\">%.o</span><span class=\"token punctuation\">:</span> %.c\n\tgcc <span class=\"token variable\">$&lt;</span> -o <span class=\"token variable\">$@</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token function\">ls</span> *.c\nhoge.c\n$ <span class=\"token function\">make</span> main.o\nmake: *** No rule to <span class=\"token function\">make</span> target <span class=\"token string\">'main.o'</span><span class=\"token builtin class-name\">.</span>  Stop.\n$ <span class=\"token function\">make</span> hoge.o\ngcc hoge.c -o hoge.o</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>prerequisites なしで target のみでも書けますし、後方一致も書けますが、部分一致は書けません。</p>\n<div class=\"gatsby-highlight\" data-language=\"makefile\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-makefile line-numbers\"><code class=\"language-makefile\"><span class=\"token symbol\">%.echo</span><span class=\"token punctuation\">:</span>\n\techo <span class=\"token variable\">$@</span>\n\n<span class=\"token symbol\">fuga.%</span><span class=\"token punctuation\">:</span> hoge.%\n\tln -s <span class=\"token variable\">$&lt;</span> <span class=\"token variable\">$@</span>\n\n<span class=\"token symbol\">%hoge%</span><span class=\"token punctuation\">:</span>\n\techo <span class=\"token variable\">$@</span> <span class=\"token variable\">$&lt;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">$ <span class=\"token function\">make</span> vaa.echo\n<span class=\"token builtin class-name\">echo</span> vaa.echo\nvaa.echo\n$ <span class=\"token function\">make</span> fuga.c\n<span class=\"token function\">ln</span> -s hoge.c fuga.c\n$ <span class=\"token function\">make</span> fuga.o\ngcc fuga.c -o fuga.o\n$ <span class=\"token function\">make</span> _hoge_\nmake: *** No rule to <span class=\"token function\">make</span> target <span class=\"token string\">'_hoge_'</span><span class=\"token builtin class-name\">.</span>  Stop.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>リンク</h2>\n<ul>\n<li><a href=\"https://www.gnu.org/software/make/manual/html_node/Pattern-Intro.html\">https://www.gnu.org/software/make/manual/html_node/Pattern-Intro.html</a></li>\n</ul>","excerpt":"パターンルール ルールの target と prerequisites には  を含むパターンが書けます。 target の  と prerequisites の  は一致していなければならず、この例では  が存在しないので  は作れません。\n が存在するため  は作れます。 prerequisites なしで ta…","frontmatter":{"date":"December 12, 2020","slug":"/012-pattern-rules","title":"パターンルール"}}},"pageContext":{"slug":"/012-pattern-rules","nodes":[{"node":{"frontmatter":{"slug":"/001-makefile-in-2020","title":"2020年の Makefile"}}},{"node":{"frontmatter":{"slug":"/002-phony-target-and-prerequisites","title":"偽のターゲットと前提条件"}}},{"node":{"frontmatter":{"slug":"/003-variable","title":"変数"}}},{"node":{"frontmatter":{"slug":"/004-automatic-variable","title":"自動変数"}}},{"node":{"frontmatter":{"slug":"/005-c-and-f-option","title":"-C オプションと -f オプション"}}},{"node":{"frontmatter":{"slug":"/006-default-target","title":"デフォルトターゲット"}}},{"node":{"frontmatter":{"slug":"/007-exit-status","title":"終了ステータス"}}},{"node":{"frontmatter":{"slug":"/008-text-functions","title":"文字列の関数"}}},{"node":{"frontmatter":{"slug":"/009-functions-for-filenames","title":"ファイル名の関数"}}},{"node":{"frontmatter":{"slug":"/010-functions-for-lists","title":"リストの関数"}}},{"node":{"frontmatter":{"slug":"/011-shell-function","title":"shell 関数"}}},{"node":{"frontmatter":{"slug":"/012-pattern-rules","title":"パターンルール"}}},{"node":{"frontmatter":{"slug":"/013-pattern-rule-and-black-magic","title":"パターンルールと黒魔術"}}}]}},"staticQueryHashes":["3649515864","63159454"]}