{"componentChunkName":"component---src-templates-template-js","path":"/01-target","result":{"data":{"markdownRemark":{"html":"<h1>ターゲット</h1>\n<h2>本来の使い方</h2>\n<p>make は元々はCなどのソースコードをビルドするツールです。\nみなさんはCなど知らないだろうし、知る必要もないですが、大丈夫。以下の説明にCの前提知識は別に必要ありません。\n別にC専用というわけでもないので、例えば go の開発をするのに使うこともできます。</p>\n<div class=\"gatsby-highlight\" data-language=\"makefile\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-makefile line-numbers\"><code class=\"language-makefile\"><span class=\"token comment\"># hello という実行ファイルは `go build -o hello` というコマンドで作る。</span>\n<span class=\"token symbol\">hello</span><span class=\"token punctuation\">:</span>\n\tgo build -o hello</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">:</code> の手前の、作りたいファイル名のことを make の用語でターゲットといいます。\n次の行からはターゲットの作り方を書きます。</p>\n<p>ビルド手順を Makefile として書いてやれば、ソースコードやビルド手順には興味がなくビルド物だけに興味がある人でも、ビルド物を自分でビルドしてやることができます。便利ですね。</p>\n<p>ターゲットはファイル名であるのが基本ですが、処理の名前のようなものをターゲットにしてやることもできます。（これを擬似ターゲットと言いますが、別に覚える必要はないです）</p>\n<div class=\"gatsby-highlight\" data-language=\"makefile\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-makefile line-numbers\"><code class=\"language-makefile\"><span class=\"token symbol\">test</span><span class=\"token punctuation\">:</span>\n    go test -v ./...</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>昔から伝統的によく使われるターゲット名 <code class=\"language-text\">test</code> などがあります。\nこれは自動化テストを実行する目的に使われます。\nあなたがソースコードではなくビルド物だけに関心があるのだとしても、テストくらいはしたい。そんなときでも Makefile にテストするためのコマンドが書いてあれば便利ですね。\nCI などで自動化テストを回すのにも便利です。</p>\n<p>Makefileがあるディレクトリで、 <code class=\"language-text\">make [ターゲット名]</code> としてやるとそのターゲットファイルを作るか、あるいは擬似ターゲットを実行します。\n01-targetにサンプルのMakefileがあるので実行してみましょう</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> 01-target\n$ <span class=\"token function\">make</span> <span class=\"token builtin class-name\">test</span>\ngo <span class=\"token builtin class-name\">test</span> -v ./<span class=\"token punctuation\">..</span>.\n<span class=\"token punctuation\">(</span>以下略<span class=\"token punctuation\">)</span>\nPASS\nok      github.com/voyagegroup/make-advent-calendar-2017/01-target      <span class=\"token number\">0</span>.006s</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","frontmatter":{"date":"December 01, 2018","slug":"/01-target","title":"ターゲット"}}},"pageContext":{"slug":"/01-target"}},"staticQueryHashes":[]}